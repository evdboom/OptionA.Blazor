@namespace OptionA.Blazor.Components
@inherits OptAComponent

<li @attributes="@GetGroupAttributes()"
    @onclick="() => Toggle()"
    @onmouseenter="() => MouseEnter()" 
    @onmouseleave="() => MouseLeave()">
    <a @attributes="@GetLinkAttributes()">@Name</a>
    <div @attributes="@GetDropdownAttributes()" @ref="_dropDown">
        <menu>
            <CascadingValue Name="OnGroupItemSelected" Value="@_childClicked">
            @if (ChildContent is not null)
            {
                @ChildContent
            }
            </CascadingValue>
        </menu>
    </div> 
</li>

@if (_open && !DataProvider.OpenGroupOnMouseOver)
{
    <div @attributes="@GetBackgroundAttributes()" @onclick="() => Toggle()"></div>

}